# Copyright (c) 2003-2004 E. Will et al.
# Rights to this code are documented in doc/LICENSE.
#
# This file contains build instructions.
#
# $Id: Makefile.in,v 1.1 2004/05/24 23:22:41 nenolod Exp $
#

CC		= @CC@
RM		= @RM@
MV		= @MV@
CP		= @CP@
INSTALL		= @INSTALL@
PREFIX		= @prefix@
BIN		= networkbopm@EXEEXT@
MKDEP		= @MKDEP@

# Default CFLAGS
#CFLAGS		= -g -O2 -Wall

# Developer CFLAGS
CFLAGS		= -g -O2 -Wunused -Wall -ggdb -pedantic -Wshadow -Wmissing-declarations -Wno-long-long

CFLAGS		+= -I../include/

VERSION		= 1.0

LIBS		= @LIBS@
LDFLAGS		= @LDFLAGS@
CPPFLAGS	= @CPPFLAGS@

default: all

BASE_SRCS = function.c irc.c memory.c list.c socket.c utility.c conf.c confp.c
SRCS = ${BASE_SRCS}

OBJS = ${SRCS:.c=.o}

all: networkbopm

build: all

networkbopm: $(OBJS)
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ ${OBJS} ${LIBS}

.c.o:
	${CC} ${CPPFLAGS} ${CFLAGS} -c $<

.PHONY: depend clean distclean
depend:
	${MKDEP} ${CPPFLAGS} ${BASE_SRCS} > .depend

clean:
	${RM} -f *.o *.exe *~ version.c shrike.core core shrike

distclean: clean
	${RM} -f Makefile version.c.last

include .depend
